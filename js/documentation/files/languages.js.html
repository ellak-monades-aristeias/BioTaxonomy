<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>languages.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/$(document).on().html">$(document).on()</a></li>
                                <li><a href="../classes/ajaxError.html">ajaxError</a></li>
                                <li><a href="../classes/articleExistsQuery.html">articleExistsQuery</a></li>
                                <li><a href="../classes/articleRankSuccess.html">articleRankSuccess</a></li>
                                <li><a href="../classes/capitalizeFirstLetter.html">capitalizeFirstLetter</a></li>
                                <li><a href="../classes/ChangeDiv.html">ChangeDiv</a></li>
                                <li><a href="../classes/changeLanguage.html">changeLanguage</a></li>
                                <li><a href="../classes/checkUrl.html">checkUrl</a></li>
                                <li><a href="../classes/clearNextRanks.html">clearNextRanks</a></li>
                                <li><a href="../classes/divsForMobile.html">divsForMobile</a></li>
                                <li><a href="../classes/executeOpenQuery.html">executeOpenQuery</a></li>
                                <li><a href="../classes/getArticle.html">getArticle</a></li>
                                <li><a href="../classes/getCurrPage.html">getCurrPage</a></li>
                                <li><a href="../classes/getGreekName.html">getGreekName</a></li>
                                <li><a href="../classes/getImportantQuery.html">getImportantQuery</a></li>
                                <li><a href="../classes/getLanguageResources.html">getLanguageResources</a></li>
                                <li><a href="../classes/getMembers.html">getMembers</a></li>
                                <li><a href="../classes/getName.html">getName</a></li>
                                <li><a href="../classes/getNextRank.html">getNextRank</a></li>
                                <li><a href="../classes/getOpenQuery.html">getOpenQuery</a></li>
                                <li><a href="../classes/getPluralRank.html">getPluralRank</a></li>
                                <li><a href="../classes/getPrevRank.html">getPrevRank</a></li>
                                <li><a href="../classes/getprevRankNameQuery.html">getprevRankNameQuery</a></li>
                                <li><a href="../classes/getSearchQuery.html">getSearchQuery</a></li>
                                <li><a href="../classes/getSearchRank.html">getSearchRank</a></li>
                                <li><a href="../classes/getSearchRankQuery.html">getSearchRankQuery</a></li>
                                <li><a href="../classes/getStatistics.html">getStatistics</a></li>
                                <li><a href="../classes/getSummaryQuery.html">getSummaryQuery</a></li>
                                <li><a href="../classes/getThumbUrl.html">getThumbUrl</a></li>
                                <li><a href="../classes/getTotalQuery.html">getTotalQuery</a></li>
                                <li><a href="../classes/goBack.html">goBack</a></li>
                                <li><a href="../classes/greekNameSuccess.html">greekNameSuccess</a></li>
                                <li><a href="../classes/greekSuccess.html">greekSuccess</a></li>
                                <li><a href="../classes/hideShowDivs.html">hideShowDivs</a></li>
                                <li><a href="../classes/importantMembersSuccess.html">importantMembersSuccess</a></li>
                                <li><a href="../classes/loadArticle.html">loadArticle</a></li>
                                <li><a href="../classes/membersSuccess.html">membersSuccess</a></li>
                                <li><a href="../classes/nameFromUrl.html">nameFromUrl</a></li>
                                <li><a href="../classes/normalDivs.html">normalDivs</a></li>
                                <li><a href="../classes/openSuccess.html">openSuccess</a></li>
                                <li><a href="../classes/prettyLoadRank.html">prettyLoadRank</a></li>
                                <li><a href="../classes/prevRankSuccess.html">prevRankSuccess</a></li>
                                <li><a href="../classes/randomColorGenerator.html">randomColorGenerator</a></li>
                                <li><a href="../classes/returnGreekNameQuery.html">returnGreekNameQuery</a></li>
                                <li><a href="../classes/returnOneEnglishNameQuery.html">returnOneEnglishNameQuery</a></li>
                                <li><a href="../classes/saveTree.html">saveTree</a></li>
                                <li><a href="../classes/searchArticle.html">searchArticle</a></li>
                                <li><a href="../classes/searchSuccess.html">searchSuccess</a></li>
                                <li><a href="../classes/searchTree.html">searchTree</a></li>
                                <li><a href="../classes/shadeColor2.html">shadeColor2</a></li>
                                <li><a href="../classes/showAbout.html">showAbout</a></li>
                                <li><a href="../classes/showAllDivs.html">showAllDivs</a></li>
                                <li><a href="../classes/showArticle.html">showArticle</a></li>
                                <li><a href="../classes/showIndex.html">showIndex</a></li>
                                <li><a href="../classes/shrinkImg200.html">shrinkImg200</a></li>
                                <li><a href="../classes/shrinkImg300.html">shrinkImg300</a></li>
                                <li><a href="../classes/startLoading.html">startLoading</a></li>
                                <li><a href="../classes/stopLoading.html">stopLoading</a></li>
                                <li><a href="../classes/summarySuccess.html">summarySuccess</a></li>
                                <li><a href="../classes/thumbHtml.html">thumbHtml</a></li>
                                <li><a href="../classes/totalQuerySuccess.html">totalQuerySuccess</a></li>
                                <li><a href="../classes/treeToGreek.html">treeToGreek</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Article.html">Article</a></li>
                                <li><a href="../modules/Languages.html">Languages</a></li>
                                <li><a href="../modules/Navigation.html">Navigation</a></li>
                                <li><a href="../modules/Queries.html">Queries</a></li>
                                <li><a href="../modules/Tree.html">Tree</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: languages.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Handles language changes. 
 *
 * @module Languages
 */
 /**
* Make arrays with static text in greek and english. 
*
* @class getLanguageResources
* @constructor
*/

function getLanguageResources() {
    var gr = new Array();
    var en = new Array();
    gr[&#x27;about&#x27;] = &quot;Î£ÏÎµÏÎ¹ÎºÎ¬&quot;;
    en[&#x27;about&#x27;] = &quot;About&quot;;
    gr[&#x27;kingdom&#x27;] = &quot;ÎÎ±ÏÎ¯Î»ÎµÎ¹Î¿&quot;;
    en[&#x27;kingdom&#x27;] = &quot;Kingdom&quot;;
    gr[&#x27;phylum&#x27;] = &quot;Î£ÏÎ½Î¿Î¼Î¿ÏÎ±Î¾Î¯Î±&quot;;
    en[&#x27;phylum&#x27;] = &quot;Phylum&quot;;
    gr[&#x27;class&#x27;] = &quot;ÎÎ¼Î¿ÏÎ±Î¾Î¯Î±&quot;;
    en[&#x27;class&#x27;] = &quot;Class&quot;;
    gr[&#x27;order&#x27;] = &quot;Î¤Î¬Î¾Î·&quot;;
    en[&#x27;order&#x27;] = &quot;Order&quot;;
    gr[&#x27;family&#x27;] = &quot;ÎÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹Î±&quot;;
    en[&#x27;family&#x27;] = &quot;Family&quot;;
    gr[&#x27;genus&#x27;] = &quot;ÎÎ­Î½Î¿Ï&quot;;
    en[&#x27;genus&#x27;] = &quot;Genus&quot;;
    gr[&#x27;species&#x27;] = &quot;ÎÎ¯Î´Î¿Ï&quot;;
    en[&#x27;species&#x27;] = &quot;Species&quot;;
    gr[&#x27;kingdomPlural&#x27;] = &quot;ÎÎ±ÏÎ¯Î»ÎµÎ¹Î±&quot;;
    en[&#x27;kingdomPlural&#x27;] = &quot;Kingdoms&quot;;
    gr[&#x27;phylumPlural&#x27;] = &quot;Î£ÏÎ½Î¿Î¼Î¿ÏÎ±Î¾Î¯ÎµÏ&quot;;
    en[&#x27;phylumPlural&#x27;] = &quot;Phyla&quot;;
    gr[&#x27;classPlural&#x27;] = &quot;ÎÎ¼Î¿ÏÎ±Î¾Î¯ÎµÏ&quot;;
    en[&#x27;classPlural&#x27;] = &quot;Classes&quot;;
    gr[&#x27;orderPlural&#x27;] = &quot;Î¤Î¬Î¾ÎµÎ¹Ï&quot;;
    en[&#x27;orderPlural&#x27;] = &quot;Orders&quot;;
    gr[&#x27;familyPlural&#x27;] = &quot;ÎÎ¹ÎºÎ¿Î³Î­Î½ÎµÎ¹ÎµÏ&quot;;
    en[&#x27;familyPlural&#x27;] = &quot;Families&quot;;
    gr[&#x27;genusPlural&#x27;] = &quot;ÎÎ­Î½Î·&quot;;
    en[&#x27;genusPlural&#x27;] = &quot;Genera&quot;;
    gr[&#x27;speciesPlural&#x27;] = &quot;ÎÎ¯Î´Î·&quot;;
    en[&#x27;speciesPlural&#x27;] = &quot;Species&quot;;
    gr[&#x27;full_article&#x27;] = &quot;ÎÎµÎ¯ÏÎµ ÏÎ¿ ÏÎ»Î®ÏÎµÏ Î¬ÏÎ¸ÏÎ¿&quot;;
    en[&#x27;full_article&#x27;] = &quot;Read full article&quot;;
    gr[&#x27;details&#x27;] = &quot;ÎÎµÏÏÎ¿Î¼Î­ÏÎµÎ¹ÎµÏ&quot;;
    en[&#x27;details&#x27;] = &quot;Details&quot;;
    gr[&#x27;plant&#x27;] = &quot;Î¦ÏÏÎ¬&quot;;
    en[&#x27;plant&#x27;] = &quot;Plant&quot;;
    gr[&#x27;animal&#x27;] = &quot;ÎÏÎ±&quot;;
    en[&#x27;animal&#x27;] = &quot;Animal&quot;;
    gr[&#x27;return&#x27;] = &quot;ÎÏÎ¹ÏÏÏÎ¿ÏÎ®&quot;;
    en[&#x27;return&#x27;] = &quot;Return&quot;;
    gr[&#x27;wikiPage&#x27;] = &quot;Î£ÎµÎ»Î¯Î´Î± ÏÎ·Ï Wikipedia&quot;;
    en[&#x27;wikiPage&#x27;] = &quot;Wikipedia Page&quot;;
    gr[&#x27;articleTo&#x27;] = &quot;Î¤Î¿&quot;;
    en[&#x27;articleTo&#x27;] = &quot;&quot;;
    gr[&#x27;articleH&#x27;] = &quot;H&quot;;
    en[&#x27;articleH&#x27;] = &quot;&quot;;
    gr[&#x27;has&#x27;] = &quot;Î­ÏÎµÎ¹&quot;;
    en[&#x27;has&#x27;] = &quot;has&quot;;
    gr[&#x27;withTotal&#x27;] = &quot;Î¼Îµ ÏÏÎ½Î¿Î»Î¿&quot;;
    en[&#x27;withTotal&#x27;] = &quot;with a total of&quot;;
    gr[&#x27;members&#x27;] = &quot;Î¼Î­Î»Î·&quot;;
    en[&#x27;members&#x27;] = &quot;members&quot;;
    gr[&#x27;noResults&#x27;] = &quot;ÎÎ±Î½Î­Î½Î± Î±ÏÎ¿ÏÎ­Î»ÎµÏÎ¼Î±!&quot;;
    en[&#x27;noResults&#x27;] = &quot;No results!&quot;;
    gr[&#x27;is&#x27;]=&quot;ÎµÎ¯Î½Î±Î¹&quot;;
    en[&#x27;is&#x27;]=&quot;is&quot;;
    gr[&#x27;with&#x27;]=&quot;Î¼Îµ&quot;;
    en[&#x27;with&#x27;]=&quot;with&quot;;
	en[&#x27;noSummary&#x27;]=&quot;No summary exists!&quot;;
	gr[&#x27;noSummary&#x27;]=&quot;ÎÎµÎ½ ÏÏÎ¬ÏÏÎµÎ¹ ÏÎµÏÎ¯Î»Î·ÏÎ·!&quot;;
 
    var resources = new Array();
    resources[&#x27;gr&#x27;] = gr;
    resources[&#x27;en&#x27;] = en;
    return resources;
}
/**
* Makes ajax request to convert tree branch to greek.    
*
* @class treeToGreek
* @constructor
* @param {object} container Container to be translated, usually tree branch
*/
function treeToGreek(container) {
    var nameList = [];
    $(container).find(&#x27;.caption&gt;p[caption]&#x27;).each(function() {
        nameList.push($(this).attr(&#x27;caption&#x27;));
    });
    fiftyCounter = Math.floor(nameList.length / 50);
    for (i = 0; i &lt;= fiftyCounter; i++) {
        fiftyNameList = nameList.slice(i * 50, (i * 50) + 50);
        var queryUrl = returnGreekNameQuery(fiftyNameList);
		
        $.ajax({
            // type: &quot;GET&quot;,
            dataType: &quot;jsonp&quot;,
            url: queryUrl,
            container: container,
            success: greekSuccess,
            error: ajaxError
        });
    }
}
/**
* Callback for treeToGreek. Puts the translated names in the DOM.     
*
* @class greekSuccess
* @constructor
* @param {object} _data Ajax response that contains a list with up to 50 names. 
*/
function greekSuccess(_data) {
	
	
    var results = _data.query.pages;
    for (var i in results) {
        if (results[i].langlinks != undefined) {
            var greekName = results[i].langlinks[0][Object.keys(results[i].langlinks[0])[1]];
               
            $(&quot;p[caption=&#x27;&quot; + results[i].title + &quot;&#x27;]&quot;).html(greekName);
        } else {
            $(&quot;p[caption=&#x27;&quot; + results[i].title + &quot;&#x27;]&quot;).html(results[i].title);
        }
    }
  
	
}
/**
* Change language from greek to english and vice versa.     
*
* @class changeLanguage
* @constructor
* @param {string} lang Language, &quot;en&quot; or &quot;gr&quot;
* @param {object} container Container to be translated
*/
function changeLanguage(lang,container) {
	if (container===undefined){
		container=&#x27;body&#x27;;
	}
	console.log(&quot;language&quot;);
        $(&#x27;html&#x27;).attr(&#x27;lang&#x27;, lang);
        $(&quot;a:contains(&#x27;en&#x27;)&quot;).removeClass(&quot;not-active&quot;);
        $(&quot;a:contains(&#x27;gr&#x27;)&quot;).addClass(&quot;not-active&quot;);
		
        var currPage = getCurrPage();
        if (lang == &#x27;gr&#x27;) {
            $(&quot;a:contains(&#x27;en&#x27;)&quot;).attr(&#x27;id&#x27;, &#x27; &#x27;);
            $(&quot;a:contains(&#x27;gr&#x27;)&quot;).attr(&#x27;id&#x27;, &#x27;langNotActive&#x27;);
            if (currPage == &#x27;index.html&#x27;) {
                treeToGreek(container);
                
            }
        } else {
            $(&quot;a:contains(&#x27;gr&#x27;)&quot;).attr(&#x27;id&#x27;, &#x27; &#x27;);
            $(&quot;a:contains(&#x27;en&#x27;)&quot;).attr(&#x27;id&#x27;, &#x27;langNotActive&#x27;);
            if (currPage !=&#x27;article.html&#x27;) {
                $(container).find(&#x27;.caption p&#x27;).each(function() {
                    $(this).html($(this).attr(&#x27;caption&#x27;));
                });
                
            }
        }
        if (currPage == &#x27;article.html&#x27;) {
            if ((lang == &#x27;gr&#x27;) &amp;&amp; (sessionStorage.getItem(&#x27;name&#x27;) !=
                sessionStorage.getItem(&#x27;greekName&#x27;))) {
                 console.log(&quot;first one&quot;);
                $(&#x27;#title&#x27;).html(sessionStorage.getItem(&#x27;greekName&#x27;));
                $(&#x27;#wikiLink&#x27;).attr(&#x27;href&#x27;, &#x27;https://el.wikipedia.org/wiki/&#x27; +
                    (sessionStorage.getItem(&#x27;greekName&#x27;)).replace(&#x27; &#x27;, &#x27;_&#x27;)
                );
                $(&#x27;#article&#x27;).wikiblurb({
                    wikiURL: &quot;http://el.wikipedia.org/&quot;,
                    section: 0,
                    page: sessionStorage.getItem(&#x27;greekName&#x27;),
                });
                console.log(&quot;before greek&quot;);
                $(&#x27;#statName&#x27;).html(sessionStorage.getItem(&#x27;greekName&#x27;));

                getGreekName($(&#x27;#statPrevRank&#x27;).attr(&#x27;caption&#x27;),&quot;stats&quot;);
                
                console.log(sessionStorage.getItem(&#x27;greekName&#x27;));
                
            } else {
                 $(&#x27;#statName&#x27;).html(sessionStorage.getItem(&#x27;name&#x27;));
                  $(&#x27;#statPrevRank&#x27;).html($(&#x27;#statPrevRank&#x27;).attr(&#x27;caption&#x27;));
                $(&#x27;#title&#x27;).html(sessionStorage.getItem(&#x27;name&#x27;));
                $(&#x27;#wikiLink&#x27;).attr(&#x27;href&#x27;, &#x27;https://en.wikipedia.org/wiki/&#x27; +
                    (sessionStorage.getItem(&#x27;name&#x27;)).replace(&#x27; &#x27;, &#x27;_&#x27;));
                $(&#x27;#article&#x27;).wikiblurb({
                    section: 0,
                    page: sessionStorage.getItem(&#x27;name&#x27;),
                });
                $(&#x27;#statName&#x27;).html(sessionStorage.getItem(&#x27;name&#x27;));
            }
        }
        
        
        var langResources = getLanguageResources()[lang];
        sessionStorage.setItem(&#x27;lang&#x27;, lang);
        $(&quot;*[name=&#x27;lbl&#x27;]&quot;).each(function(i, elt) {
            $(elt).text(langResources[$(elt).attr(&quot;caption&quot;)]);
        });
		
	
    }
 /**
* Ajax request to get greek translation of a name.     
*
* @class getGreekName
* @constructor
* @param {string} name Name 
* @param {string} func Variable to differentiate between call from stats or article
*/
 function getGreekName(name,func) {
  var queryUrl = returnOneGreekNameQuery(name);
  $.ajax({
    // type: &quot;GET&quot;,
    dataType: &quot;jsonp&quot;,
    url: queryUrl,
	func: func,
    name: name,
    success: greekNameSuccess,
    error: ajaxError
  });

}
 /**
* Callback of getGreekName    
*
* @class greekNameSuccess
* @constructor
* @param {object} _data Ajax response that contains a greek name
*/
function greekNameSuccess(_data) {

 
    var results = _data.query.pages;
    for (var i in results) {
      if (results[i].langlinks !== undefined) {
        if (this.func == &#x27;stats&#x27;) {
			
          $(&#x27;#statPrevRank&#x27;).html(results[i].langlinks[0][
            Object.keys(results[i].langlinks[0])[1]
          ]);
        } else {
			
          sessionStorage.setItem(&#x27;greekName&#x27;, results[i].langlinks[0][
            Object.keys(results[i].langlinks[0])[1]
          ]);
        }
      } else {
        if (this.func== &#x27;stats&#x27;) {
          $(&#x27;#statPrevRank&#x27;).html(this.name);
        } else {
          sessionStorage.setItem(&#x27;greekName&#x27;, this.name);
        }
      }
    }
 
  if (this.func==&quot;article&quot;){
	   window.location.replace(&#x27;article.html&#x27;);
  }
 
  
} 
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
